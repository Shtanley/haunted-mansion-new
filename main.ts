namespace SpriteKind {
    export const Timer = SpriteKind.create()
    export const sword = SpriteKind.create()
    export const powerup = SpriteKind.create()
}
/**
 * Initialize world, player, enemies & camera.
 * 
 * Set player & enemy spawn point
 */
/**
 * Collision
 */
/**
 * Directions:
 * 
 * up = 0
 * 
 * down = 1
 * 
 * left = 2
 * 
 * right = 3
 */
/**
 * Loot
 */
/**
 * Item pickup
 */
/**
 * Attacking left is not centered
 * 
 * Fix: change sprite dimensions again to accommodate space to swing sword in all directions
 */
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    lastDirection = 0
    walking()
})
/**
 * Timer for animations, turning on ghost means it will not interact with the game at all
 */
/**
 * Problem now is that the camera is not centered on the player sprite but instead the sword attacking animation (which is 24x24 not 16x16)
 */
function tickTimer (ms: number) {
    ticks = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Timer)
    ticks.setFlag(SpriteFlag.Ghost, true)
    ticks.lifespan = ms
}
function enemyDmg (enemy: Sprite) {
    if (enemy == Boss1) {
        sprites.destroy(enemy, effects.blizzard, 100)
        info.changeLifeBy(-2)
        info.changeScoreBy(-100)
    } else {
        sprites.destroy(enemy, effects.ashes, 100)
        info.changeLifeBy(-1)
        info.changeScoreBy(-25)
    }
}
/**
 * Win/Lose condition
 */
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile15`, function (sprite, location) {
    game.gameOver(true)
})
/**
 * Solutions:
 * 
 * 1. Make sword a separate sprite that the player holds and animate it
 * 
 * 2. Change the dimensions of all the sprite to 24x24
 */
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    music.play(music.createSoundEffect(WaveShape.Noise, 1852, 1, 160, 0, 100, SoundExpressionEffect.Tremolo, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
    music.setVolume(100)
    attacking()
    tickTimer(350)
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    lastDirection = 2
    walking()
})
/**
 * Enemy points
 */
statusbars.onZero(StatusBarKind.EnemyHealth, function (status) {
    enemyDeath(status.spriteAttachedTo())
    if (status.max == 999) {
        info.changeScoreBy(250)
        music.play(music.createSoundEffect(WaveShape.Square, 420, 1, 255, 0, 300, SoundExpressionEffect.Tremolo, InterpolationCurve.Logarithmic), music.PlaybackMode.UntilDone)
    } else {
        info.changeScoreBy(25)
    }
})
function enemyDeath (enemy: Sprite) {
    sprites.destroy(enemy, effects.disintegrate, 100)
    if (Math.percentChance(30)) {
        heart = sprites.create(img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .......22...22......
            ......2322.2222.....
            ......232222222.....
            ......222222222.....
            .......22222b2......
            ........222b2.......
            .........222........
            ..........2.........
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            `, SpriteKind.Food)
        animation.runImageAnimation(
        heart,
        [img`
            ....................
            ....................
            ....................
            .......22...22......
            ......2322.2222.....
            ......232222222.....
            ......222222222.....
            .......22222b2......
            ........222b2.......
            .........222........
            ..........2.........
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .......22...22......
            ......2322.2222.....
            ......232222222.....
            ......222222222.....
            .......22222b2......
            ........222b2.......
            .........222........
            ..........2.........
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .......22...22......
            ......2322.2222.....
            ......232222222.....
            ......222222222.....
            .......22222b2......
            ........222b2.......
            .........222........
            ..........2.........
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .......22...22......
            ......2322.2222.....
            ......232222222.....
            ......222222222.....
            .......22222b2......
            ........222b2.......
            .........222........
            ..........2.........
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            .......22...22......
            ......2322.2222.....
            ......232222222.....
            ......222222222.....
            .......22222b2......
            ........222b2.......
            .........222........
            ..........2.........
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            `],
        150,
        true
        )
        heart.x = enemy.x
        heart.y = enemy.y
    } else if (Math.percentChance(7.77)) {
        music.play(music.createSoundEffect(WaveShape.Sine, 1, 5000, 255, 0, 100, SoundExpressionEffect.None, InterpolationCurve.Logarithmic), music.PlaybackMode.UntilDone)
        slash = sprites.create(img`
            . . b b b b . . 
            . b 8 8 8 8 b . 
            b 8 6 a a 6 8 b 
            b 8 a 8 8 9 8 b 
            c 8 a 8 8 9 6 c 
            c 6 6 9 9 6 6 c 
            . f 6 6 6 6 f . 
            . . f f f f . . 
            `, SpriteKind.powerup)
        animation.runImageAnimation(
        slash,
        [img`
            . . b b b b . . 
            . b 8 8 8 8 b . 
            b 8 6 a a 6 8 b 
            b 8 a 8 8 9 8 b 
            c 8 a 8 8 9 6 c 
            c 6 6 9 9 6 6 c 
            . f 6 6 6 6 f . 
            . . f f f f . . 
            `,img`
            . . b b b . . . 
            . b 8 8 8 b . . 
            b 8 6 a 6 8 b . 
            b 8 a 8 9 8 b . 
            c 8 a 8 9 6 c . 
            c 8 6 9 6 6 c . 
            . f 6 6 6 f . . 
            . . f f f . . . 
            `,img`
            . . . b b . . . 
            . . b 8 8 b . . 
            . b 8 6 9 8 b . 
            . b 8 a 9 8 b . 
            . c 8 a 9 6 c . 
            . c 8 9 6 6 c . 
            . . f 6 6 f . . 
            . . . f f . . . 
            `,img`
            . . . b b . . . 
            . . b 8 8 b . . 
            . . b 9 9 b . . 
            . . b 8 8 b . . 
            . . b 6 6 b . . 
            . . c 6 6 c . . 
            . . c a a c . . 
            . . . f f . . . 
            `,img`
            . . . b b . . . 
            . . b 8 8 b . . 
            . b 8 9 6 8 b . 
            . b 8 9 a 8 b . 
            . c 6 9 a 8 c . 
            . c 6 6 9 8 c . 
            . . f 6 6 f . . 
            . . . f f . . . 
            `,img`
            . . . b b b . . 
            . . b 8 8 8 b . 
            . b 8 6 a 6 8 b 
            . b 8 9 8 a 8 b 
            . c 6 9 8 a 8 c 
            . c 6 6 9 6 8 c 
            . . f 6 6 6 f . 
            . . . f f f . . 
            `],
        150,
        true
        )
        slash.x = enemy.x
        slash.y = enemy.y
    }
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    lastDirection = 3
    walking()
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    lastDirection = 1
    walking()
})
info.onLifeZero(function () {
    game.gameOver(true)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    music.play(music.createSoundEffect(WaveShape.Sine, 200, 2089, 255, 0, 150, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
    sprites.destroy(otherSprite, effects.hearts, 100)
    if (info.life() <= 4) {
        info.changeLifeBy(1)
    } else {
        info.changeScoreBy(30)
    }
})
function walking () {
    if (lastDirection == 0) {
        animation.runImageAnimation(
        player1,
        [img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffff......................
            ....................ffeeeeff....................
            ...................feeeffeeef...................
            ..................fffff22fffff..................
            ..................ffe2e22e2eff..................
            ..................fe2f2ff2f2ef..................
            ..................fff22ee22fff..................
            .................ffef2feef2feff.................
            .................feeffeeeefeeef.................
            ..................feeeeeeeeeef..................
            ...................feeeeeeeef...................
            ..................e4ffffffff4e..................
            ..................4df222222fd4..................
            ..................44f444444f44..................
            .....................ffffff.....................
            .....................ff..ff.....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .....................ffff.......................
            ...................ffeeeeff.....................
            ..................feeeffeeef....................
            ..................ffff22ffff....................
            .................ffe2e22e2eff...................
            .................fe2f2fff2fef...................
            .................fff2fee22fff...................
            .................fe2ffee2feef...................
            ................ffeffeeefeeeff..................
            ................ffeeeeeeeeeefdf.................
            ..................feeeeeeeeffbf.................
            ..................effffffff4fbf.................
            ..................4f22222eddfcf.................
            ..................effffffee4ff..................
            ...................fff..........................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffff......................
            ....................ffeeeeff....................
            ...................feeeffeeef...................
            ..................fffff22fffff..................
            ..................ffe2e22e2eff..................
            ..................fe2f2ff2f2ef..................
            ..................fff22ee22fff..................
            .................ffef2feef2feff.................
            .................feeffeeeefeeef.................
            ..................feeeeeeeeeef..................
            ...................feeeeeeeef...................
            ..................e4ffffffff4e..................
            ..................4df222222fd4..................
            ..................44f444444f44..................
            .....................ffffff.....................
            .....................ff..ff.....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .....................ffff.......................
            ...................ffeeeeff.....................
            ..................feeeffeeef....................
            ..................ffff22ffff....................
            .................ffe2e22e2eff...................
            .................fef2fff2f2ef...................
            .................fff22eef2fff...................
            .................feef2eeff2ef...................
            .................feeefeeeffeff..................
            .................feeeeeeeeeeff..................
            .................ffeeeeeeeef....................
            .................f4ffffffffe....................
            .................fdde22222f4....................
            .................f4eeffffffe....................
            ........................fff.....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `],
        200,
        true
        )
    } else if (lastDirection == 1) {
        animation.runImageAnimation(
        player1,
        [img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffff......................
            ....................fff22fff....................
            ...................fff2222fff...................
            ..................fffeeeeeefff..................
            ..................ffe222222eef..................
            ..................fe2ffffff2ef..................
            ..................ffffeeeeffff..................
            .................ffefbf44fbfeff.................
            .................fee41fddf14eef.................
            ..................ffffdddddeef..................
            .................fddddf444eef...................
            .................fbbbbf2222f4e..................
            .................fbbbbf2222fd4..................
            ..................fccf45544f44..................
            ...................ffffffff.....................
            .....................ff..ff.....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffff......................
            ....................fff22fff....................
            ...................fff2222fff...................
            ..................fffeeeeeefff..................
            ..................ffe222222eef..................
            .................ffe2ffffff2eff.................
            .................fffffeeeefffff.................
            ..................fefbf44fbfef..................
            .................ffe41fddf14ef..................
            ................fdffe4dddd4efe..................
            ................fbfef2222edd4e..................
            ................fbf4f2222edde...................
            ................fcf.f4455fee....................
            .................ff.fffffff.....................
            ....................fff.........................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffff......................
            ....................fff22fff....................
            ...................fff2222fff...................
            ..................fffeeeeeefff..................
            ..................fee222222eff..................
            .................ffe2ffffff2eff.................
            .................fffffeeeefffff.................
            ..................fefbf44fbfef..................
            ..................fe41fddf14ef..................
            ..................effffddd4ef...................
            ..................fddddf222fef..................
            ..................fbbbbf222f4e..................
            ..................fbbbbf544f....................
            ...................fccffffff....................
            ....................ff...fff....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `],
        200,
        true
        )
    } else if (lastDirection == 2) {
        animation.runImageAnimation(
        player1,
        [img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .....................ffffff.....................
            ....................f2feeeeff...................
            ...................f222feeeeff..................
            ...................feeeeffeeef..................
            ..................fe2222eeffff..................
            ..................f2effff222ef..................
            ..................fffeeefffffff.................
            ..................fee44fbe44eff.................
            ..................ffeddf14d4eef.................
            .................fddfdddd4eeef..................
            .................fbbfeee4eef....................
            .................fbbedd4222f....................
            ..................fbedde444ff...................
            ...................ffeeffffff...................
            ....................fff...ff....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .....................ffffff.....................
            ....................f2feeeeff...................
            ...................f222feeeeff..................
            ...................feeeeffeeef..................
            ..................fe2222eeffff..................
            ..................f2effff222ef..................
            ..................fffeeefffffff.................
            ..................fee44fbe44eff.................
            ...................feddf14d4eef.................
            ....................fdddeeeeef..................
            ....................fe4edd4f....................
            ....................f22eddef....................
            ...................ff55feefff...................
            ...................ffffffffff...................
            ....................fff...ff....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .....................ffffff.....................
            ....................f2feeeeff...................
            ...................f222feeeeff..................
            ...................feeeeffeeef..................
            ..................fe2222eeffff..................
            ..................f2effff222ef..................
            ..................fffeeefffffff.................
            ..................fee44fbe44eff.................
            ..................ffeddf14d4eef.................
            .................fddfdddd4eeef..................
            .................fbbfeee4eeff...................
            .................fbbedd4222f....................
            ..................fbedde222e....................
            ...................ffeef444f....................
            .....................ffffff.....................
            .......................fff......................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .....................ffffff.....................
            ....................f2feeeeff...................
            ...................f222feeeeff..................
            ...................feeeeffeeef..................
            ..................fe2222eeffff..................
            ..................f2effff222ef..................
            ..................fffeeefffffff.................
            ..................fee44fbe44eff.................
            ...................feddf14d4eef.................
            ....................fdddeeeeef..................
            ....................fe4edd4f....................
            ....................f22eddef....................
            ...................ff55feefff...................
            ...................ffffffffff...................
            ....................fff...ff....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `],
        200,
        true
        )
    } else {
        animation.runImageAnimation(
        player1,
        [img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffffff....................
            ....................ffeeeef2f...................
            ...................ffeeeef222f..................
            ...................feeeffeeeef..................
            ...................ffffee2222ef.................
            ...................fe222ffffe2f.................
            ..................fffffffeeefff.................
            ..................ffe44ebf44eef.................
            ..................fee4d41fddef..................
            ...................feeeeedddf...................
            .....................f4dde4ef...................
            .....................fedde22f...................
            ....................fffeef55ff..................
            ....................ffffffffff..................
            .....................ff...fff...................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .....................ffffff.....................
            ...................ffeeeef2f....................
            ..................ffeeeef222f...................
            ..................feeeffeeeef...................
            ..................ffffee2222ef..................
            ..................fe222ffffe2f..................
            .................fffffffeeefff..................
            .................ffe44ebf44eef..................
            .................fee4d41fddeff..................
            ..................feee4ddddfddf.................
            ...................ffee4eeefbbf.................
            ....................f2224ddebbf.................
            ....................e222eddebf..................
            ....................f444feeff...................
            .....................ffffff.....................
            ......................fff.......................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffffff....................
            ....................ffeeeef2f...................
            ...................ffeeeef222f..................
            ...................feeeffeeeef..................
            ...................ffffee2222ef.................
            ...................fe222ffffe2f.................
            ..................fffffffeeefff.................
            ..................ffe44ebf44eef.................
            ..................fee4d41fddef..................
            ...................feeeeedddf...................
            .....................f4dde4ef...................
            .....................fedde22f...................
            ....................fffeef55ff..................
            ....................ffffffffff..................
            .....................ff...fff...................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .....................ffffff.....................
            ...................ffeeeef2f....................
            ..................ffeeeef222f...................
            ..................feeeffeeeef...................
            ..................ffffee2222ef..................
            ..................fe222ffffe2f..................
            .................fffffffeeefff..................
            .................ffe44ebf44eef..................
            .................fee4d41fddeff..................
            ..................feee4ddddfddf.................
            ....................fee4eeefbbf.................
            ....................f2224ddebbf.................
            ...................ff444eddebf..................
            ...................ffffffeeff...................
            ....................ff...fff....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `],
        200,
        true
        )
    }
}
function attacking () {
    if (lastDirection == 0) {
        animation.runImageAnimation(
        player1,
        [img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffff......................
            ....................ffeeeeff....................
            ...................feeeffeeef...................
            ..................fffff22fffff..................
            ..................ffe2e22e2eff..................
            ..................fe2f2ff2f2ef..................
            ..................fff22ee22fff..................
            .................ffef2feef2feff.................
            .................feeffeeeefeeef.................
            ..................feeeeeeeeeef..................
            ...................feeeeeeeef...................
            ..................e4ffffffff4e..................
            ..................4df222222fd4..................
            ..................44f444444f44..................
            .....................ffffff.....................
            .....................ff..ff.....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffff......................
            ....................ffeeeeff....................
            ...................feeeffeeef...................
            ...................ffff22ffff...................
            ..................ffe2e22e2eff..................
            ..................fe2f2fff2fef..................
            ..................fff2fee22fff..................
            ..................fe2ffee2feef..................
            .................ffeffeeefeeeff.................
            .................ffeeeeeeeeeefdf................
            ...................feeeeeeeeffbf................
            ...................effffffff4fbf................
            ...................4f22222eddfcf................
            ...................effffffee4ff.................
            ....................fff.........................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffff......................
            ....................ffeeeeff....................
            ...................feeeffeeef...................
            ..................fffff22fffff..................
            ..................ffe2e22e2eff..................
            ..................fe2f2ff2f2ef..................
            ..................fff22ee22fff..................
            .................ffef2feef2feff.................
            .................feeffeeeefeeef.................
            ..................feeeeeeeeeef..................
            ...................feeeeeeeef...................
            ..................e4ffffffff4e..................
            ..................4df222222fd4..................
            ..................44f444444f44..................
            .....................ffffff.....................
            .....................ff..ff.....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .....................ffff.......................
            ...................ffeeeeff.....................
            ..................feeeffeeef....................
            ..................ffff22ffff....................
            .................ffe2e22e2eff...................
            .................fef2fff2f2ef...................
            .................fff22eef2fff...................
            .................feef2eeff2ef...................
            .................feeefeeeffeff..................
            .................feeeeeeeeeeff..................
            .................ffeeeeeeeef....................
            .................f4ffffffffe....................
            .................fdde22222f4....................
            .................f4eeffffffe....................
            ........................fff.....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `],
        100,
        true
        )
        projectile = sprites.createProjectileFromSprite(img`
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ..........9999..........
            ........99888899........
            ......9988....8899......
            .....988........889.....
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `, player1, 0, -75)
    } else if (lastDirection == 1) {
        animation.runImageAnimation(
        player1,
        [img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffff......................
            ....................fff22fff....................
            ...................fff2222fff...................
            ..................fffeeeeeefff..................
            ..................ffe222222eef..................
            ..................fe2ffffff2ef..................
            ..................ffffeeeeffff..................
            .................ffefbf44fbfeff.................
            .................fee41fddf14eef.................
            ................fdfeeddddd4eff..................
            ................fbffee444edd4e..................
            ................fbf4f2222edde...................
            ................fcf.f22cccee....................
            .................ff.f44cdc4f....................
            ....................fffddcff....................
            .....................fddcff.....................
            ....................cddc........................
            ....................cdc.........................
            ....................cc..........................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .......................ff.......................
            .....................ff22ff.....................
            ...................fff2222fff...................
            ..................fff222222fff..................
            ..................fff222222fff..................
            ..................feeeeeeeeeeff.................
            .................ffe22222222eff.................
            .................fffffeeeefffff.................
            ................fdfefbf44fbfeff.................
            ................fbfe41fddf14ef..................
            ................fbffe4dddd4efe..................
            ................fcfef22222f4e...................
            .................ff4f44554f4e...................
            ....................ffffffdde...................
            .....................ffffedde...................
            ..........................ee....................
            .........................ccc....................
            ........................cc1cc...................
            .........................c1c....................
            .........................c1c....................
            .........................c1c....................
            .........................c1c....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffff......................
            ....................fff22fff....................
            ...................fff2222fff...................
            ..................fffeeeeeefff..................
            ..................ffe222222eef..................
            ..................fe2ffffff2ef..................
            ..................ffffeeeeffff......ccc.........
            .................ffefbf44fbfeff....cddc.........
            .................ffefbf44fbfeff...cddc..........
            .................fee4dddddd4eef.ccddc...........
            ................fdfeeddddd4eeffecddc............
            ................fbffee4444ee4fddccc.............
            ................fbf4f222222f1edde...............
            ................fcf.f222222f44ee................
            .................ff.f445544f....................
            ....................ffffffff....................
            .....................ff..ff.....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffff......................
            ....................fff22fff....................
            ...................fff2222fff...................
            ..................fffeeeeeefff..................
            ..................ffe222222eef..................
            ..................fe2ffffff2ef..................
            ..................ffffeeeeffff..................
            .................ffefbf44fbfeff.................
            .................fee41fddf14eef.................
            ..................ffffdddddeef..................
            .................fddddf444eef...................
            .................fbbbbf2222f4e..................
            .................fbbbbf2222fd4..................
            ..................fccf45544f44..................
            ...................ffffffff.....................
            .....................ff..ff.....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `],
        100,
        true
        )
        projectile = sprites.createProjectileFromSprite(img`
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            .....988........889.....
            ......9988....8899......
            ........99888899........
            ..........9999..........
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            `, player1, 0, 75)
    } else if (lastDirection == 2) {
        animation.runImageAnimation(
        player1,
        [img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................ffffff....................
            .....................f2feeeeff..................
            ....................f222feeeeff.................
            ...............cc...feeeeffeeef.................
            ...............cdc.fe2222eeffff.................
            ...............cddcf2effff222ef.................
            ................cddcffeeefffffff................
            .................cddce44fbe44eff................
            ..................cdceddf14d4eef................
            ..................cccdeddd4eeef.................
            ...................edd4e44eeff..................
            ....................ee442222f...................
            .....................f2e2222f...................
            .....................f554444f...................
            ......................ffffff....................
            ........................fff.....................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .......................fff......................
            ......................f2fffff...................
            ....................ff22eeeeeff.................
            ...................ff222eeeeeeff................
            ...................feeeefffeeeef................
            ..................fe2222eeefffff................
            ..................f2efffff222efff...............
            ...........cc.....fffeeefffffffff...............
            ...........cdcc...fee44fbbe44efef...............
            ...........ccddcc..feddfbb4d4eef................
            .............cdddceefddddd4eeef.................
            ..............ccdcddee2222222f..................
            ...............cccdd44e544444f..................
            ..................eeeeffffffff..................
            ......................ff...fff..................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ........................ff......................
            ......................ff2ffff...................
            .....................ff2feeeeff.................
            ....................ff22feeeeeff................
            ....................feeeeffeeeef................
            ...................fe2222eefffff................
            ...................f2effff222efff...............
            ...................fffeeeffffffff...............
            ...................fee44fbe44efef...............
            ....................feddfb4d4eef................
            ...................c.eeddd4eeef.................
            .............ccccccceddee2222f..................
            ..............dddddcedd44e444f..................
            ...............ccccc.eeeefffff..................
            ...................c...ffffffff.................
            ........................ff..fff.................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .....................ffffff.....................
            ....................f2feeeeff...................
            ...................f222feeeeff..................
            ...................feeeeffeeef..................
            ..................fe2222eeffff..................
            ..................f2effff222ef..................
            ..................fffeeefffffff.................
            ..................fee44fbe44eff.................
            ...................feddf14d4eef.................
            ....................fdddd4eeef..................
            ....................fe444eddf...................
            ....................ccc22eddf...................
            ....................cdc22fee....................
            ...................cddc4444f....................
            ..................cddcfffff.....................
            .................cddc..fff......................
            .................cdc............................
            .................cc.............................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `],
        100,
        true
        )
        projectile = sprites.createProjectileFromSprite(img`
            ........................
            ........................
            ........................
            ........................
            ........................
            ..........9.............
            .........98.............
            .........98.............
            ........98..............
            ........98..............
            .......98...............
            .......98...............
            .......98...............
            .......98...............
            ........98..............
            ........98..............
            .........98.............
            .........98.............
            ..........9.............
            ........................
            ........................
            ........................
            ........................
            ........................
            `, player1, -75, 0)
    } else {
        animation.runImageAnimation(
        player1,
        [img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ....................ffffff......................
            ..................ffeeeef2f.....................
            .................ffeeeef222f....................
            .................feeeffeeeef...cc...............
            .................ffffee2222ef.cdc...............
            .................fe222ffffe2fcddc...............
            ................fffffffeeeffcddc................
            ................ffe44ebf44ecddc.................
            ................fee4d41fddecdc..................
            .................feee4dddedccc..................
            ..................ffee44e4dde...................
            ...................f222244ee....................
            ...................f2222e2f.....................
            ...................f444455f.....................
            ....................ffffff......................
            .....................fff........................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ......................fff.......................
            ...................fffff2f......................
            .................ffeeeee22ff....................
            ................ffeeeeee222ff...................
            ................feeeefffeeeef...................
            ................fffffeee2222ef..................
            ...............fffe222fffffe2f..................
            ...............fffffffffeeefff.....cc...........
            ...............fefe44ebbf44eef...ccdc...........
            ................fee4d4bbfddef..ccddcc...........
            .................feee4dddddfeecdddc.............
            ..................f2222222eeddcdcc..............
            ..................f444445e44ddccc...............
            ..................ffffffffeeee..................
            ..................fff...ff......................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .......................ff.......................
            ....................ffff2ff.....................
            ..................ffeeeef2ff....................
            .................ffeeeeef22ff...................
            .................feeeeffeeeef...................
            .................fffffee2222ef..................
            ................fffe222ffffe2f..................
            ................ffffffffeeefff..................
            ................fefe44ebf44eef..................
            .................fee4d4bfddef...................
            ..................feee4dddee.c..................
            ...................f2222eeddeccccccc............
            ...................f444e44ddecddddd.............
            ...................fffffeeee.ccccc..............
            ..................ffffffff...c..................
            ..................fff..ff.......................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `,img`
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            .....................ffffff.....................
            ...................ffeeeef2f....................
            ..................ffeeeef222f...................
            ..................feeeffeeeef...................
            ..................ffffee2222ef..................
            ..................fe222ffffe2f..................
            .................fffffffeeefff..................
            .................ffe44ebf44eef..................
            .................fee4d41fddef...................
            ..................feee4ddddf....................
            ...................fdde444ef....................
            ...................fdde22ccc....................
            ....................eef22cdc....................
            ....................f4444cddc...................
            .....................fffffcddc..................
            ......................fff..cddc.................
            ............................cdc.................
            .............................cc.................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            ................................................
            `],
        100,
        true
        )
        projectile = sprites.createProjectileFromSprite(img`
            ........................
            ........................
            ........................
            ........................
            ........................
            .............9..........
            .............89.........
            .............89.........
            ..............89........
            ..............89........
            ...............89.......
            ...............89.......
            ...............89.......
            ...............89.......
            ..............89........
            ..............89........
            .............89.........
            .............89.........
            .............9..........
            ........................
            ........................
            ........................
            ........................
            ........................
            `, player1, 75, 0)
    }
}
sprites.onDestroyed(SpriteKind.Timer, function (sprite) {
    animation.stopAnimation(animation.AnimationTypes.All, player1)
    walking()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.powerup, function (sprite, otherSprite) {
    music.play(music.createSoundEffect(WaveShape.Sine, 200, 2089, 255, 0, 150, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
    sprites.destroy(otherSprite, effects.halo, 100)
    skillUp = sprites.create(img`
        ........................
        ........................
        ........................
        ...........f............
        ..........f2f...........
        .........f222f..........
        ........f22222f.........
        .........f222f..........
        .........f222f..........
        ..........fff...........
        ........................
        ....ff.....f.....f......
        ...f11f...f1f...f1f.f...
        ..f1ff1f..f1f...f1ff1f..
        ..f1ff1f.f111f..f1f1f...
        ..f1111f..f1ff..f11f....
        ..f1ff1f..f1f1f.f1f1f...
        ..f1ff1f...f1f..f1ff1f..
        ...f..f.....f....f..f...
        ........................
        ........................
        ........................
        ........................
        ........................
        `, SpriteKind.Player)
    animation.runImageAnimation(
    skillUp,
    [img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ...........f............
        ..........f2f...........
        .........f222f..........
        ........f22222f.........
        .........f222f..........
        .........f222f..........
        ..........fff...........
        ........................
        ....ff.....f.....f......
        ...f11f...f1f...f1f.f...
        ..f1ff1f..f1f...f1ff1f..
        ..f1ff1f.f111f..f1f1f...
        ..f1111f..f1ff..f11f....
        ..f1ff1f..f1f1f.f1f1f...
        ..f1ff1f...f1f..f1ff1f..
        ...f..f.....f....f..f...
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ...........f............
        ..........f2f...........
        .........f222f..........
        ........f22222f.........
        .........f222f..........
        .........f222f..........
        ..........fff...........
        ........................
        ....ff.....f.....f......
        ...f11f...f1f...f1f.f...
        ..f1ff1f..f1f...f1ff1f..
        ..f1ff1f.f111f..f1f1f...
        ..f1111f..f1ff..f11f....
        ..f1ff1f..f1f1f.f1f1f...
        ..f1ff1f...f1f..f1ff1f..
        ...f..f.....f....f..f...
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ...........f............
        ..........f2f...........
        .........f222f..........
        ........f22222f.........
        .........f222f..........
        .........f222f..........
        ..........fff...........
        ........................
        ....ff.....f.....f......
        ...f11f...f1f...f1f.f...
        ..f1ff1f..f1f...f1ff1f..
        ..f1ff1f.f111f..f1f1f...
        ..f1111f..f1ff..f11f....
        ..f1ff1f..f1f1f.f1f1f...
        ..f1ff1f...f1f..f1ff1f..
        ...f..f.....f....f..f...
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ...........f............
        ..........f2f...........
        .........f222f..........
        ........f22222f.........
        .........f222f..........
        .........f222f..........
        ..........fff...........
        ........................
        ....ff.....f.....f......
        ...f11f...f1f...f1f.f...
        ..f1ff1f..f1f...f1ff1f..
        ..f1ff1f.f111f..f1f1f...
        ..f1111f..f1ff..f11f....
        ..f1ff1f..f1f1f.f1f1f...
        ..f1ff1f...f1f..f1ff1f..
        ...f..f.....f....f..f...
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `],
    150,
    false
    )
    skillUp.x = sprite.x
    skillUp.y = sprite.y
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    sprites.destroy(sprite)
    if (skillUp) {
        statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += -100
    } else {
        statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += -50
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    music.play(music.createSoundEffect(WaveShape.Square, 1, 1, 192, 58, 100, SoundExpressionEffect.Warble, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
    enemyDmg(otherSprite)
    scene.cameraShake(4, 500)
})
let playerDialogsBoss: string[] = []
let statusbar: StatusBarSprite = null
let enemy1: Sprite = null
let moving = false
let skillUp: Sprite = null
let projectile: Sprite = null
let slash: Sprite = null
let heart: Sprite = null
let Boss1: Sprite = null
let ticks: Sprite = null
let lastDirection = 0
let player1: Sprite = null
game.splash("The Haunted Mansion")
music.play(music.createSong(hex`007e000408030303001c0001dc00690000045e0100040000000000000000000005640001040003420000000800012408001000012910001800012020002800012528003000012a30003800012738004000012540004800011e48005000012050005800011b58006000012006001c00010a006400f4016400000400000000000000000000000000000000026c0000000400011d04000800011d10001400012414001800012420002400012024002800012028002c0001252c003000012530003400012434003800012438003c0001223c004000012248004c0001224c005000012250005400012054005800012058005c00011d5c006000011e09010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c8003600000001000100100011000100200021000100280029000100300031000100380039000100480049000100500051000100580059000100`), music.PlaybackMode.LoopingInBackground)
music.setVolume(53)
scene.setBackgroundImage(img`
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    `)
tiles.setCurrentTilemap(tilemap`level1`)
player1 = sprites.create(img`
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ......................ffff......................
    ....................fff22fff....................
    ...................fff2222fff...................
    ..................fffeeeeeefff..................
    ..................ffe222222eef..................
    ..................fe2ffffff2ef..................
    ..................ffffeeeeffff..................
    .................ffefbf44fbfeff.................
    .................fee41fddf14eef.................
    ..................ffffdddddeef..................
    .................fddddf444eef...................
    .................fbbbbf2222f4e..................
    .................fbbbbf2222fd4..................
    ..................fccf45544f44..................
    ...................ffffffff.....................
    .....................ff..ff.....................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    ................................................
    `, SpriteKind.Player)
tiles.placeOnRandomTile(player1, assets.tile`myTile2`)
controller.moveSprite(player1, 50, 50)
scene.cameraFollowSprite(player1)
info.setLife(5)
game.setDialogFrame(img`
    ..bbabbaabbaabbaabbbbb..
    .bddbaddbaddbaddbabbddb.
    addddbaddbaddbaddbadddda
    addddbbaabbaabbaabbdddda
    abddb11111111111111bddba
    bbab1111111111111111bbab
    babb1111111111111111badb
    abda1111111111111111adda
    adda1111111111111111adba
    bdab1111111111111111bbab
    babb1111111111111111badb
    abda1111111111111111adda
    adda1111111111111111adba
    bdab1111111111111111bbab
    babb1111111111111111badb
    abda1111111111111111adda
    adda1111111111111111adba
    bdab1111111111111111bbab
    babb1111111111111111babb
    abddb11111111111111bddba
    addddbbaabbaabbaabbdddda
    addddabddabddabddabdddda
    .addbbabddabddabddabdda.
    ..aaabbaabbaabbaabbaaa..
    `)
game.showLongText("Use + to move and A to shoot", DialogLayout.Bottom)
game.showLongText("Time to bust some ghosts", DialogLayout.Bottom)
/**
 * Make sure walking animation is on only when player is moving
 */
game.onUpdate(function () {
    moving = controller.up.isPressed() || controller.down.isPressed() || controller.left.isPressed() || controller.right.isPressed()
    if (!(moving)) {
        animation.stopAnimation(animation.AnimationTypes.All, player1)
    }
})
/**
 * Enemy spawner
 */
game.onUpdateInterval(2000, function () {
    enemy1 = sprites.create(img`
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .......f11111111f.......
        ......fd11111111df......
        ......fd11111111df......
        ......fddd1111dddf......
        ......fbdbfddfbdbf......
        ......fcdcf11fcdcf......
        .......fb111111bf.......
        ......fffcdb1bdffff.....
        ....fc111cbfbfc111cf....
        ....f1b1b1ffff1b1b1f....
        ....fbfbffffffbfbfbf....
        .........ffffff.........
        ...........fff..........
        ........................
        ........................
        ........................
        ........................
        `, SpriteKind.Enemy)
    tiles.placeOnRandomTile(enemy1, assets.tile`myTile3`)
    enemy1.follow(player1, 20)
    statusbar = statusbars.create(15, 2, StatusBarKind.EnemyHealth)
    statusbar.attachToSprite(enemy1)
    statusbar.setLabel("HP")
    statusbar.max = 100
})
/**
 * Boss
 */
game.onUpdateInterval(60000, function () {
    Boss1 = sprites.create(img`
        ...........99..........9
        999........898........98
        8889........98........8.
        ..89......ff89......998.
        ...899..fffff8ff.998888.
        ...88888afff88ffaf9.....
        ......8faafffffaff......
        .....fffff2222fffff.....
        .....ffaf242222ffaf.....
        8998988f24545442a88f....
        988889af22255422f8889...
        ..8.ff8a24555422fa9f8899
        ....ffff22424542ffff...8
        .....ffff222222faaf.....
        .....faaff2222fffff.....
        ......8affffffffa8......
        ....9888fff99ffa88......
        ...989..fff89fff988.....
        ..98......98ff...989....
        ..8......98.......89....
        ..8......98.......98....
        .98.....989.........98..
        .99......8............8.
        .........8..............
        `, SpriteKind.Enemy)
    tiles.placeOnRandomTile(Boss1, sprites.dungeon.collectibleInsignia)
    Boss1.follow(player1, 10)
    statusbar = statusbars.create(25, 2, StatusBarKind.EnemyHealth)
    statusbar.attachToSprite(Boss1)
    statusbar.setColor(9, 2)
    statusbar.setLabel("AP")
    statusbar.max = 999
    statusbar.value = 999
    game.setDialogFrame(img`
        ..bbbbbbbbbbbbbbbbbbbb..
        .bd111111111111111111db.
        bd1dbbbbbbbbbbbbbbbbd1db
        b1dbbbbbbbbbbbbbbbbbbd1b
        b1bd1111111111111111db1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1b111111111111111111b1b
        b1bd1111111111111111db1b
        bd1bbbbbbbbbbbbbbbbbb1db
        bbd111111111111111111dbb
        .bbbbbbbbbbbbbbbbbbbbbb.
        ..bbbbbbbbbbbbbbbbbbbb..
        `)
    playerDialogsBoss = [
    "I hear a BOSS spawning...",
    "BIG GUY!!!",
    "This has to be the last one... right?",
    "I am not getting paid enough for this."
    ]
    player1.sayText(playerDialogsBoss._pickRandom(), 3000, false)
})
